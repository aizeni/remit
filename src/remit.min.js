/**
 * remit
 * https://github.com/nikeMadrid/remit
 * @author Nike Madrid
 * @version 1.4.6
 * @licence MIT
 */
Object.values||(Object.values=function(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(e[r]);return t}),Array.prototype.filter||(Array.prototype.filter=function(e){"use strict";if(void 0===this||null===this)throw new TypeError;var t=Object(this),r=t.length>>>0;if("function"!=typeof e)throw new TypeError;for(var n=[],i=arguments.length>=2?arguments[1]:void 0,o=0;r>o;o++)if(o in t){var s=t[o];e.call(i,s,o,t)&&n.push(s)}return n});var xhr=null;!function(global){"use strict";return global.remit=function(configuration){function templateRequest(e,t){return new Promise(function(t,r){var n=xhr;n.open("GET",e),n.send(),n.onload=function(){200==this.status?t(this.response):r(this.statusText)},n.onerror=function(){r(this.statusText)}}).then(t)}function pregQuote(e,t){return null!==e.match(/\//g)&&(e=String(e).replace(new RegExp("[.\\*$=!<>|\\"+(t||"")+"]","g"),"\\$&")),e}function each(e,t){if(e instanceof Array)for(var r in e)t.call(null,r,e[r])}function infoHTTP(){var e,t="",r=/\/(.*?)\.[html|php]*/i;return r.test(_SERVER.path)&&(e=_SERVER.path.match(r))&&(t=e[0].substr(1),_SERVER.path=_SERVER.path.replace(t,"")),_SERVER.filename=""!=t?t.substr(1):t,_SERVER}function isShowPageNotFount(){return 1==config.showPageNotFount}function isShowErrorAccess(){return 1==config.showAccessError}function errorAccessMethod(e,t){isShowErrorAccess()&&(document.querySelector("html").innerHTML="<!DOCTYPE html><html><head><title>error: access method not allowed</title><style>* {margin: 0;padding: 0;box-sizing: border-box;}html, body {background-color: #F1F1F1;}header {background: #32d4ff;color: white;line-height: 60px;padding: 0 20px;font-size: 25px;text-transform: capitalize; box-shadow: 0 2px 2px rgba(185, 185, 185, 0.66);}main > div {width: 1000px;margin: auto;margin-top: 3em;padding: 3em 10px;line-height: 30px;border: 10px solid #ffa2a2;background: white;color: #454545;}</style></head><body><header>error: access method not allowed</header><main><div><p>url: "+t+"</p><p>method permitted: "+e+"</p><p>type error: method not allowed</p></div></main></body></html>")}function pageNotFount(e){isShowPageNotFount()&&(document.querySelector("html").innerHTML='<!DOCTYPE html><html><head><title>error: 404 page not fount</title><style>* {margin: 0;padding: 0;box-sizing: border-box;}html, body {background-color: #F1F1F1;}header {background: #32d4ff;color: white;line-height: 60px;padding: 0 20px;font-size: 25px;text-transform: capitalize; box-shadow: 0 2px 2px rgba(185, 185, 185, 0.66);}main > div {width: 1000px;margin: auto;margin-top: 3em;padding: 3em 10px;line-height: 30px;border: 10px solid #ffa2a2;background: white;color: #454545;} .urls { color: #000; padding-left: 30px;font-family: monospace;}</style></head><body><header>Error: 404 Page Not Fount</header><main><div><p>code: 404</p><p>type error: page not fount</p><div style="display:flex;">urls:<p class="urls"> ^'+e.join("<br>^").replace(/[\\]|\/\?/g,function(){return""})+"</p></div></div></main></body></html>")}function renderer(e,t){hasOwnProperty.call(e,"render")?e.render.apply(this,t):e.apply(this,t)}function captureRgx(url,obj){var regex_group=/\(\?\P\<(.*)?\>(.*)?\)/g,matches;if(regex_group.test(url)&&(matches=/\(\?\P\<(.*)?\>(.*)?\)/g.exec(url))){var expression=matches.shift(),name=matches.shift(),rgx=matches.shift();obj.nameParam.push(name),obj.capture={expression:String(expression).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),name:name,typeCapture:rgx},url=url.replace(expression,"(\\"+rgx+")")}var quote=pregQuote(url,"/");return function(){var m=quote.match(globalRgx);return null!==m&&each(m,function(e,t){obj.nameParam.push(t.replace(/\{|\}/g,"")),quote=sString.test(t&&t.match(sString))?quote.replace(t,"([a-zA-Z]+)"):sNumber.test(t&&t.match(sNumber))?quote.replace(t,"([0-9]+)"):sLower.test(t&&t.match(sLower))?quote.replace(t,"([a-z]+)"):sUpper.test(t&&t.match(sUpper))?quote.replace(t,"([A-Z]+)"):quote.replace(t,"([0-9a-zA-Z_\\+\\-%\\:]+)")}),obj.urls.push(quote),eval("/"+quote+"\\/?/")}()}function compruebeEmulatorAccessRequestMethod(e){return!(""!=self.Cookie.first("req_met")&&"false"!=self.Cookie.first("req_met")||0!=e)}function emulatorAccessMethod(){return!(""==self.Cookie.first("req_met")||"false"==self.Cookie.first("req_met"))}function eventForm(e,t,r){if(null==t)return void console.warn("context in null");var n=e instanceof Array?new self.validation(e[0],e[1]):e;n.ifNotSubmit(),t.addEventListener("submit",function(){var e=Object.values(n.errors).filter(function(e){return 1==e});Object.defineProperty(window,"srcStorage",{enumerable:!1,writable:!1,configurable:!0,value:r}),0==e.length?(self.Cookie.remove("req_met",r),self.Cookie("req_met",Date.now(),{path:r})):self.Cookie("req_met",!1,{path:r})})}function stack(e,t,r){if("string"==typeof e&&"undefined"!=typeof self.globalObjectRegister&&"undefined"!=typeof self.globalObjectRegister.registerMiddleware[e])e=self.globalObjectRegister.registerMiddleware[e];else if("function"!=typeof e)throw new Error("it must pass a callback or a string that this records on the instance route");return e(t,r,stack.next),r}function deepenObject(e,t,r,n){if(hasOwnProperty.call(e,"middleware")&&!stack(e.middleware,t,r).nextRun)throw new Error("");if(hasOwnProperty.call(e,"asyncValidation")&&(self.event.asyncValidation=[e.asyncValidation,n]),hasOwnProperty.call(e,"validation")){var i="object"==typeof e.validation[0]?e.validation[0]:document.querySelector(e.validation[0]);i&&(self.event.validating=eventForm.bind(self,e.validation,i,i.getAttribute("action")||n))}}function mergeNameToParam(e,t){for(var r in e)e[t[r].substr(0,-1!=t[r].indexOf(":")?t[r].indexOf(":"):t[r].length)]=e[r],delete e[r];return e}function urlReplaceTo(e){return Object.keys(e.capture).length>0?e.urls[0].replace("([\\"+e.capture.typeCapture+"])",e.capture.expression).replace(e.capture.typeCapture,"&#92;"+e.capture.typeCapture)+'/$  [name="'+e.capture.name+'"]':e.urls[0]}function dispatch(e,t){if("object"==typeof e){var r=[],n=[],i=!0,o=new self.Request,s=new self.Response;e.forEach(function(e){if(n.push(urlReplaceTo(e)),self.m=dispatch.matches(e.getUrl())){i=!1;var t=self.m.shift(),a=e.getMethod(),c=e.getFunc(),l=o.params=mergeNameToParam(self.m,e.nameParam);if(r.push(a),self.Request.isGet(a))o.method=a,emulatorAccessMethod()&&"OPTIONS"!=a||(deepenObject(c,o,s,t),o.env(t,a,c,Object.values(l)));else if(self.Request.isAllNotGet(a)){var u=-1!=r.indexOf("GET");try{var h=setInterval(function(){if(compruebeEmulatorAccessRequestMethod(u)&&0==count&&(count=1))throw errorAccessMethod(a,t),new Error("Error: access method not allowed");emulatorAccessMethod()&&(o.method=a,deepenObject(c,o,s,t),o.env(t,a,c,Object.values(l)),clearInterval(h))},10)}catch(p){console.error(p)}}}}),setTimeout(s.send.bind(s,o,self),10),i&&(pageNotFount(n),t.call(null,o,s))}}if(global.XMLHttpRequest)xhr=new XMLHttpRequest;else try{xhr=new new ActiveXObject("Microsoft.XMLHTTP")}catch(e){console.warn(e)}var globalRgx=/{([0-9a-zA-Z_\+\-%\:]+)}/g,sUpper=/{((.*?):upper)}/g,sLower=/{((.*?):lower)}/g,sString=/{((.*?):string)}/g,sNumber=/{((.*?):number)}/g,_SERVER={path:location.pathname||"/",hash:location.hash.replace(/\#\//g,"")||"/",protocol:location.protocol.replace(":",""),beforeUrl:location.origin||"/",params:location.search||"",host:location.hostname},config={showPageNotFount:!0,showAccessError:!0,viewPath:""},self=this,_this=this,context=[],hasOwnProperty=Object.prototype.hasOwnProperty;if(this.event={validating:Function},"object"==typeof configuration)for(var n in configuration)hasOwnProperty.call(config,n)&&(config[n]=configuration[n]);var count=0,PRINTED=new RegExp("({[\\\\{{)]([json|raw|escape]+)*[|]?(.*?)[(\\\\}}]})","g"),CONCATOBJECT=new RegExp("([.*?].(.+))","gi"),MAINTAIN=new RegExp("({%[^{%)]([include|yield|block|extends]+)(.*?)[%}]})","g");return this.detached=function(e,t){this.treplace=[],this.tsection={type:[],name:[]},this.data=t,this.compileData=this.resolver(e)},this.detached.compile=function(e,t){return new this(e,t)},this.detached.view=function(e,t,r){"undefined"==typeof r&&(r=t,t=null),templateRequest(config.viewPath+e,function(e){var n=self.detached.compile(e,r);if(t)n.context=t;else{var i=document.querySelector(".outlet");i||(i=document.createElement("div"),i.setAttribute("class","outlet"),document.body.appendChild(i),i=document.querySelector(".outlet")),n.context=i}var o=n.tsection.name,s=n.tsection.type;return 0==o.length&&0==s.length?(n.context.innerHTML=n.compileData,n.inEvent(),n.compileData):void s.forEach(function(e,t,r){"include"==e?(n.includeContent(o[t],n.compileData,t),delete n.tsection.name[t],delete n.tsection.type[t]):"extends"==e&&-1==r.indexOf("include")&&(n.extend(n.compileData),delete n.tsection.name[t],delete n.tsection.type[t])})})},this.detached.prototype={inEvent:function(){if(hasOwnProperty.call(_this.event,"asyncValidation")){var e=_this.event.asyncValidation,t=e[0],r=document.querySelector(t[0]);eventForm(t,r,r.getAttribute("action")||e[1])}},resolver:function(e){return PRINTED.test(e)&&(e=this.rdata(e)),MAINTAIN.test(e)&&(e=this.maintainContent(e)),e},extend:function(e){var t=0,r=this;-1!=(t=this.tsection.type.indexOf("extends"))&&(e=e.replace(this.treplace[t],""),templateRequest(config.viewPath+this.tsection.name[t],function(t){var n=[],i=e.split(/{%\s*(block\s*(.*))\s*%}/gm),o=t.match(/{%\s*yield\s*(.*)\s*%}/gm);i.forEach(function(e,t,r){/(block+\s*(.*))\s*/g.test(e)||n.push(r[1+t].replace(/{%\s*endblock\s*%}|\n+/g,""))}),n.shift();for(var s in n)t=t.replace(o[s],n[s]);r.context.innerHTML=r.resolver(t),r.inEvent()}))},includeContent:function(e,t,r){var n=this;templateRequest(config.viewPath+e,function(e){e=n.resolver(e),t=t.replace(n.treplace[r],e),n.extend(t),n.inEvent()})},maintainContent:function(e){return e.replace(MAINTAIN,function(e){var t=/(\{\%[^\{\%)]([include|yield|block|extends]+)(.*?)[\%\}]\})/g.exec(e),r=t[2].replace(/\s+/g,""),n=t[3].replace(/\s+/g,"");return this.tsection.type.push(r),this.tsection.name.push(n),this.treplace.push(e),e}.bind(this))},rdata:function(e){return e.replace(PRINTED,function(e){var t="",r=/(json|raw|escape)+/g.exec(e)||[],n=e.replace(/\s+/g,"").replace((r[0]||"")+"|","").replace(/\{\{(.*)?\}\}/g,"$1"),i=function(e){switch(r[0]){case"json":t=this.json(e);break;case"raw":t=e.toString();break;case"escape":t=this.escapeHTML(e)}return t||("function"==typeof e?e.call(null):e)};if(r&&!CONCATOBJECT.test(n)){if(!this.data[n])throw new TypeError("scope var not exists "+n);return i.call(this,this.data[n])}var o=n.split("."),s=this.data;for(var a in o){if(!s[o[a]])throw new TypeError("property "+o[a]+" not exists");s=s[o[a]]}return"function"==typeof s?i.call(this,s.call(this.data)):i.call(this,s)}.bind(this))},json:function(e){return JSON.stringify(e)},escapeHTML:function(e){var t=e;return t=t.replace(/&/g,"&amp;"),t=t.replace(/</g,"&lt;"),t=t.replace(/>/g,"&gt;"),t=t.replace(/"/g,"&quot;")}},this.validation=function(e,t){return"undefined"==typeof this.iterate?new this.validation(e,t):(this.msg={max:"max value {max}",min:"min value {min}",required:"input is required"},this.values={max:[],min:[]},this.errors=[],this.form=document.querySelector(e),this.keysNameInput=Object.keys(t),this.typeValidator=Object.values(t),this.iterate(),this)},this.validation.prototype={iterate:function(){for(var e in this.typeValidator)this.splitRules(this.keysNameInput[e],this.typeValidator[e])},setErrors:function(e,t){this.errors[e]=t},splitRules:function(e,t){var r,n;t.split("|").map(function(t){if(/\d+/g.test(t)){var i=t.match(/\D+/g)[0].replace(/\:/g,""),o=t.match(/\d+/g)[0];n=this[i],"min"==i?this.values.min[e]=parseInt(o):"max"==i&&(this.values.max[e]=parseInt(o)),this.setErrors(e,!0),r=document.querySelector('input[name="'+e+'"]'),this.rules.call(this,r,this.compareValue,parseInt(o))}else n=this[t],"function"==typeof n&&("required"==t&&this.setErrors("required_"+e,!0),r=document.querySelector('input[name="'+e+'"]'),this.rules.call(this,r,n))}.bind(this))},rules:function(e,t,r){setInterval(t.bind(this,e,r),450)},compareValue:function(e){var t=this.values.max[e.name],r=this.values.min[e.name];!t&&r&&e.value.length>=r||!r&&t&&e.value.length<=t||r&&t&&e.value.length>=r&&e.value.length<=t?this.setErrors(e.name,!1):this.setErrors(e.name,!0)},required:function(e){var t=e.name;0!=e.value.length?this.setErrors("required_"+t,!1):this.setErrors("required_"+t,!0)},ifNotSubmit:function(){var e=this,t=function(t,r){return hasOwnProperty.call(e.msg,t)?e.msg[t].replace(/\{[max|min]*\}/g,r):""};this.form.addEventListener("submit",function(r){var n=Object.keys(e.errors).filter(function(r){if(e.errors[r]){var n=document.createElement("div");n.setAttribute("class","errors");var i=document.querySelector('input[name="'+r.replace("required_","")+'"]');if(-1==r.indexOf("required")){var o=e.values.min[r],s=e.values.max[r];o&&(n.innerHTML='<p class="error error-min-value" style="margin-bottom: 5px;">'+t("min",o)+"</p>"),s&&(n.innerHTML+='<p class="error error-max-value" style="margin-bottom: 5px;">'+t("max",s)+"</p>")}else e.errors[r]&&(n.innerHTML='<p class="error error-required-value" style="margin-bottom: 5px;">'+t("required")+"</p>");setTimeout(function(){var e=document.querySelector(".errors");null!=typeof e.parentNode&&e.parentNode.removeChild(e)},2050),i.parentNode.insertBefore(n,i)}return 1==e.errors[r]});n.length>0&&r.preventDefault()})}},this.Cookie=function t(e,r,n){return t.key=e,t.value=r,t.options=n,t.injectCookie(),this},this.Cookie.assign=function(e,t,r){this(e,t,r)},this.Cookie.first=function(e){return this.all()[e]||""},this.Cookie.remove=function(e,t){var r=new Date,t=t?"path="+t+";":"";r.setTime(r.getTime()-r.getTime()),document.cookie=e+"=;"+t+"expires="+r.toUTCString()},this.Cookie.all=function(){var e,t=document.cookie,r=[],n=-1!=t.indexOf(";")?t.replace(/\s+/g,"").split(";"):t.split("=");return t&&n.forEach(function(t){e=-1!=t.indexOf("=")?t.split("="):n,r[e[0]]=e[1]}),r},this.Cookie.buildAgeCookie=function(e){var t=e,r=0;return"number"==typeof t?r=e:"oneYear"==t?r=31536e3:"oneHour"==t&&(r=3600),r},this.Cookie.injectCookie=function(){var e=this.key+"="+this.value,t=this.options,r={path:"/",domain:"",age:"",expires:"",secure:!1};for(var n in t)if(hasOwnProperty.call(r,n))switch(n){case"path":e+=";path="+t[n];break;case"domain":e+=";domain="+t[n];break;case"age":e+=";max-age="+this.buildAgeCookie(t[n]);break;case"expires":e+=";expires="+t[n];break;case"secure":e+=";secure="+t[n]}this.first(this.key)||(document.cookie=e)},this.localData=function r(e,t,n){t="object"==typeof e?e:function(){var r=[];return r[e]=t,r}(),r.action(t,n||"local","set")},this.localData.set=function(e,t,r){this(e,t,r)},this.localData.get=function(e,t){return this.action(e,t||"local","get")},this.localData.remove=function(e,t){this.action(e,t||"local","remove")},this.localData.exists=function(e,t){return this.action(e,t||"local","exists")},this.localData.action=function(e,t,r){var n,i=function(t){return"string"==typeof e?!!n[t]:null};switch(t){case"local":n=localStorage;break;case"session":n=sessionStorage}if("exists"==r)return i(e);if("get"==r)return"string"==typeof e?n[e]||null:null;if("set"==r){if("object"==typeof e)for(var o in e)i(o)||n[r+"Item"](o,e[o])}else n[r+"Item"](e)},this.Request=function(){var e=infoHTTP();return this.request=[],this.isMobile=function(){return-1!=["android","ipad","iphone"].indexOf(this.systemName)},this.isIphone=function(){return-1!=["iphone"].indexOf(this.systemName)},this.isIpad=function(){return-1!=["ipad"].indexOf(this.systemName)},this.isAndroid=function(){return-1!=["android"].indexOf(this.systemName)},this.isPC=function(){return 0==this.isMobile()},this.getBrowser=function(){var e=[],t=window.navigator.userAgent.match(/(([\\(](.*?)?[\\)]))/g);return t instanceof Array&&t.length>0&&(e=t[0].replace(/\((.*)?\)/g,"$1").split(";")),e},this.env=function(e,t,r,n){this.request=[e,t,r,n]},this.getParams=function(t){var r,n=[];if(this.slice=e.params.slice(e.params.indexOf("?")+1),0!=parseInt(this.slice))for(var i=this.slice.split("&"),o=0;o<i.length;o++)-1!=i[o].indexOf("=")&&(r=i[o].split("="),n[r[0]]=r[1]);return t?n[t]:n},this.getOrigin=function(){return e.beforeUrl},this.getProtocol=function(){return e.protocol},this.isHTTPS=function(){return"https"==e.getProtocol()},this.isHTTP=function(){return"http"==e.getProtocol()},this.system=this.getBrowser(),3==this.system.length?(this.systemName=this.system[1].match(/\D+/g)[0].replace(/\s/g,"").toLowerCase(),this.systemVersion=this.system[1].match(/\d+/g).join(".")):2==this.system.length?this.systemName=this.system[0].toLowerCase():(this.systemName=this.system[0].match(/\D+/g)[0].replace(/\s/g,"").toLowerCase(),this.systemVersion=this.system[0].match(/\d+/g).join(".")),this},this.Request.isGet=function(e){return-1!=["GET","OPTIONS"].indexOf(e)},this.Request.isAllNotGet=function(e){return-1!=["POST","PUT","PATCH","DELETE","OPTIONS"].indexOf(e)},this.Response=function(){var e=infoHTTP();return this.propagation=!1,this.redirect=function(t){return e.path!==t&&(window.location=t),this},this.back=function(){window.history.back()},this.send=function(t,r){if(t.request.length>0){var n=t.request[0],i=t.request[1],o=t.request[2],s=t.request[3];r.event.validating(),renderer(o,[t,this].concat(s)),self.Request.isAllNotGet(i)&&(window.onbeforeunload=function(){self.Cookie.remove("req_met",window.srcStorage||n)}),this.propagation=!0,delete window.srcStorage}else 0==this.propagation&&self.Cookie.first("req_met")&&self.Cookie.remove("req_met",window.srcStorage||n||e.path)},this.view=function(e,t,r){self.detached.view(e,t,r)},this.viewCompileData=function(e,t){return self.detached.compile(e,t)},this.resCookie=function(e){return self.Cookie.first(e)},this},this.Router=function(e,t,r){return this.urls=[],this.capture={},this.nameParam=[],this.setMethod(e),this.setUrl(t),this.setFunc(r),this},this.Router.prototype.setUrl=function(e){this.url=e},this.Router.prototype.setMethod=function(e){this.method=e},this.Router.prototype.setFunc=function(e){this.func=e},this.Router.prototype.matchUrl=function(){return this.setUrl(captureRgx(this.getUrl(),this)),this},this.Router.prototype.getUrl=function(){return this.url},this.Router.prototype.getMethod=function(){return this.method},this.Router.prototype.getFunc=function(){return this.func},this.Route=function(e){return self.globalObjectRegister=e||{},this},this.Route.prototype.group=function(e,t){this.groupUrl=e,t.call(this,this)},this.Route.prototype.get=function(e,t){this.controller("GET",e,t)},this.Route.prototype.post=function(e,t){this.controller("POST",e,t)},this.Route.prototype.put=function(e,t){this.controller("PUT",e,t)},this.Route.prototype.patch=function(e,t){this.controller("PATCH",e,t)},this.Route.prototype["delete"]=function(e,t){this.controller("DELETE",e,t)},this.Route.prototype.options=function(e,t){this.controller("OPTIONS",e,t)},this.Route.prototype.controller=function(e,t,r){context.push(new self.Router(e,(this.groupUrl||"")+t,r).matchUrl())},stack.next=function(e){e.nextRun=!0},dispatch.matches=function(e){var t=null;return(t=e.exec(infoHTTP().path))&&e.lastIndex==t.index&&(++e.lastIndex,t[0].length==t.input.length)?(delete t.index,delete t.input,t):!1},this.run=function(e){return dispatch.bind(this)(context,e)},this.loadFile=function(e,t,r){var n=/(.*?)\.([html|php|json|xml|txt]+)/i;if("function"==typeof t&&(r=t),n.test(e)&&(t=e,e=null),e&&(e="object"==typeof e?e:-1!=e.indexOf("#")||-1!=e.indexOf(".")?document.querySelector(e):null,null==e))throw"element in null";xhr.open("GET",t),xhr.onreadystatechange=function(){return 4==xhr.readyState?void(r&&r.call(xhr,xhr.responseText)||e&&(e.innerHTML=xhr.responseText,e)):void 0},xhr.send()},this},global}("undefined"!=typeof window?window:{});