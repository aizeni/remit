/**
 * remit
 * https://github.com/nikeMadrid/remit
 * @author Nike Madrid
 * @version 1.2.2
 * @licence MIT
 */
var remit,Cookie,validation,localData;!function(global){"use strict";function module(e,t){try{module.register.file[e[0]]||(module.register.file[e[0]]={},module.register.file[e[0]][e[1]]=t)}catch(o){console.log(o)}}function pregQuote(e,t){return null!==e.match(/\//g)&&(e=String(e).replace(new RegExp("[.\\*$=!<>|\\"+(t||"")+"]","g"),"\\$&")),e}function each(e,t){if(e instanceof Array)for(var o in e)t.call(null,o,e[o])}function infoHTTP(){var e,t="",o=/\/(.*?)\.[html|php]*/i;return o.test(_SERVER.path)&&(e=_SERVER.path.match(o))&&(t=e[0].substr(1),_SERVER.path=_SERVER.path.replace(t,"")),_SERVER.filename=""!=t?t.substr(1):t,_SERVER}function errorAccessMethod(e,t){return"<!DOCTYPE html><html><head><title>error access method "+e+" no allowed</title><style>* {margin: 0;padding: 0;box-sizing: border-box;}html, body {background-color: #F1F1F1;}header {background: #32d4ff;color: white;line-height: 60px;padding: 0 20px;font-size: 25px;text-transform: capitalize; box-shadow: 0 2px 2px rgba(185, 185, 185, 0.66);}main > div {width: 1000px;margin: auto;margin-top: 3em;padding: 3em 10px;line-height: 30px;border: 10px solid #ffa2a2;background: white;color: #454545;}</style></head><body><header>Error method "+e+" not allowed</header><main><div><p>url: "+t+"</p><p>method: "+e+"</p><p>type error: errorAccessMethod</p></div></main></body></html>"}function pageNotFount(e){return'<!DOCTYPE html><html><head><title>error: 404 page not fount</title><style>* {margin: 0;padding: 0;box-sizing: border-box;}html, body {background-color: #F1F1F1;}header {background: #32d4ff;color: white;line-height: 60px;padding: 0 20px;font-size: 25px;text-transform: capitalize; box-shadow: 0 2px 2px rgba(185, 185, 185, 0.66);}main > div {width: 1000px;margin: auto;margin-top: 3em;padding: 3em 10px;line-height: 30px;border: 10px solid #ffa2a2;background: white;color: #454545;} .urls { color: #000; padding-left: 30px;font-family: monospace;}</style></head><body><header>Error: 404 Page Not Fount</header><main><div><p>code: 404</p><p>type error: page not fount</p><div style="display:flex;">urls:<p class="urls"> ^'+e.join("<br>^").replace(/[\\]|\/\?/g,function(){return""})+"</p></div></div></main></body></html>"}function renderer(e,t){var o=Object.prototype.hasOwnProperty;o.call(e,"render")?(o.call(e,"middleware"),e.render.apply(this,t)):e.apply(this,t)}function captureRgx(url,obj){var regex_group=/\(\?\P\<(.*)?\>(.*)?\)/g,matches;if(regex_group.test(url)&&(matches=/\(\?\P\<(.*)?\>(.*)?\)/g.exec(url))){var expression=matches.shift(),name=matches.shift(),rgx=matches.shift();obj.capture={expression:String(expression).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),name:name,typeCapture:rgx},url=url.replace(expression,"([\\"+rgx+"])")}var quote=pregQuote(url,"/"),express=function(){var m=quote.match(globalRgx);if(null!==m)for(var i in m)quote=sString.test(m[i]&&m[i].match(sString))?quote.replace(m[i],"([a-zA-Z]+)"):sNumber.test(m[i]&&m[i].match(sNumber))?quote.replace(m[i],"([0-9]+)"):sLower.test(m[i]&&m[i].match(sLower))?quote.replace(m[i],"([a-z]+)"):sUpper.test(m[i]&&m[i].match(sUpper))?quote.replace(m[i],"([A-Z]+)"):quote.replace(m[i],"([0-9a-zA-Z_\\+\\-%\\:]+)");return obj.urls.push(quote),eval("/"+quote+"\\/?/")}();return express}function Request(){var e=infoHTTP();return this.request={}||[],this.isMobile=function(){return-1!=["android","ipad","iphone"].indexOf(this.systemName)},this.isIphone=function(){return-1!=["iphone"].indexOf(this.systemName)},this.isIpad=function(){return-1!=["ipad"].indexOf(this.systemName)},this.isAndroid=function(){return-1!=["android"].indexOf(this.systemName)},this.isPC=function(){return 0==this.isMobile()},this.getBrowser=function(){var e=[],t=window.navigator.userAgent.match(/(([\\(](.*?)?[\\)]))/g);return t instanceof Array&&t.length>0&&(e=t[0].replace(/\((.*)?\)/g,"$1").split(";")),e},this.env=function(e,t,o,r){this.request=[e,t,o,r]},this.getParams=function(t){var o,r=[];if(this.slice=e.params.slice(e.params.indexOf("?")+1),0!=parseInt(this.slice))for(var n=this.slice.split("&"),i=0;i<n.length;i++)-1!=n[i].indexOf("=")&&(o=n[i].split("="),r[o[0]]=o[1]);return t?r[t]:r},this.getOrigin=function(){return e.beforeUrl},this.getProtocol=function(){return e.protocol},this.isHTTPS=function(){return"https"==e.getProtocol()},this.isHTTP=function(){return"http"==e.getProtocol()},this.system=this.getBrowser(),3==this.system.length?(this.systemName=this.system[1].match(/\D+/g)[0].replace(/\s/g,"").toLowerCase(),this.systemVersion=this.system[1].match(/\d+/g).join(".")):2==this.system.length?this.systemName=this.system[0].toLowerCase():(this.systemName=this.system[0].match(/\D+/g)[0].replace(/\s/g,"").toLowerCase(),this.systemVersion=this.system[0].match(/\d+/g).join(".")),this}function Response(){var e=infoHTTP();return this.propagation=!1,this.redirect=function(t){return e.path!==t&&(window.location=t),this},this.back=function(){window.history.back()},this.send=function(t,o){if(t.request.length>0){var r=t.request[0],n=t.request[1],i=t.request[2],a=t.request[3];o.event.validatable(),renderer(i,[t,this].concat(a)),Request.isAllNotGet(n)&&(window.onbeforeunload=function(){Cookie.remove("req_met",window.srcStorage||r)}),this.propagation=!0,delete window.srcStorage}else 0==this.propagation&&Cookie.first("req_met")&&Cookie.remove("req_met",window.srcStorage||r|e.path)},this.resCookie=function(e){return Cookie.first(e)},this}function Router(e,t,o){return this.urls=[],this.capture={},this.setMethod(e),this.setUrl(t),this.setFunc(o),this}function compruebeEmulatorAccessRequestMethod(e){return""==Cookie.first("req_met")&&0==e}function emulatorAccessMethod(){return""!=Cookie.first("req_met")&&"false"!=Cookie.first("req_met")}function eventForm(e,t,o){if(null==t)return void console.warn("context in null");var r=e instanceof Array?new validation(e[0],e[1]):e;r.isSubmit(),t.addEventListener("submit",function(){var e=Object.values(r.errors).filter(function(e){return 1==e});0==e.length?(Object.defineProperty(window,"srcStorage",{enumerable:!1,writable:!1,configurable:!0,value:t.getAttribute("action")||o}),Cookie.remove("req_met",window.srcStorage?window.srcStorage:o),Cookie("req_met",Date.now(),{path:t.getAttribute("action")||o})):Cookie("req_met",!1,{path:o})})}function dispatch(e){if("object"==typeof e){var t=this,o=0,r=[],n=new Request,i=new Response,a=!0,s=[];e.forEach(function(e,i){if(s.push(e.urls[0]),Object.keys(e.capture).length>0&&(s[i]=e.urls[0].replace("([\\"+e.capture.typeCapture+"])",e.capture.expression).replace(e.capture.typeCapture,"&#92;"+e.capture.typeCapture)+'/$  [name="'+e.capture.name+'"]'),t.m=dispatch.matches(e.getUrl())){var l=t.m.shift(),u=t.m,c=e.getFunc(),p=e.getMethod(),h=t.selector=document.querySelector(c.form),m=t.validatable=c.validation;if(a=!1,t.collection=e.capture,Request.isGet(p))r.push(p),t.event.validatable=h&&h.getAttribute("action")||l?eventForm.bind(t,m,h,l):Function,emulatorAccessMethod()||n.env(l,p,c,u);else if(Request.isAllNotGet(p)){var f=-1!=r.indexOf("GET");try{var d=setInterval(function(){if(compruebeEmulatorAccessRequestMethod(f)&&0==o)throw o=1,document.querySelector("html").innerHTML=errorAccessMethod(p,l),new Error("error access method "+p+" not allowed");emulatorAccessMethod()&&(n.env(l,p,c,u),clearInterval(d))},10)}catch(g){console.error(g)}}}}),setTimeout(i.send.bind(i,n,t),10),a&&(document.querySelector("html").innerHTML=pageNotFount(s))}}function Route(){return this}var xhr=null;if(window.XMLHttpRequest)xhr=new XMLHttpRequest;else try{xhr=new ActiveXObject("Microsoft.XMLHTTP")}catch(e){console.warn(e)}Object.values||(Object.values=function(e){var t=[];for(var o in e)e.hasOwnProperty(o)&&t.push(e[o]);return t}),Array.prototype.filter||(Array.prototype.filter=function(e){if(void 0===this||null===this)throw new TypeError;var t=Object(this),o=t.length>>>0;if("function"!=typeof e)throw new TypeError;for(var r=[],n=arguments.length>=2?arguments[1]:void 0,i=0;o>i;i++)if(i in t){var a=t[i];e.call(n,a,i,t)&&r.push(a)}return r});var globalRgx=/{([0-9a-zA-Z_\+\-%\:]+)}/g,sUpper=/{((.*?):upper)}/g,sLower=/{((.*?):lower)}/g,sString=/{((.*?):string)}/g,sNumber=/{((.*?):number)}/g,_SERVER={path:location.pathname||"/",hash:location.hash.replace(/\#\//g,"")||"/",protocol:location.protocol.replace(":",""),beforeUrl:location.origin||"/",params:location.search||"",host:location.hostname},context=[],hasOwnProperty=Object.prototype.hasOwnProperty;module.extend=function(e,t){"object"!=typeof e&&Array instanceof e&&2==e.length&&(e=module["import"](e[e[1]])),"object"==typeof e&&(e.__proto__=Object.create(t.prototype||t))},module["import"]=function(e,t){if(this.register.file[e]){var o=this.register.file[e];if(o[t])return o[t];throw new TypeError("module not exists")}throw new TypeError("file of module not exits")},module.prototype={constructor:module,register:{file:{}}},module.__proto__=Object.create(module.prototype),module(["/lib/validator/validation.js","validation"],function(e,t){var o=this,r={max:"max value {max} large {user_max}",min:"min value {min} large {user_max}",required:"input is required"},n={max:[],min:[]},i=document.createElement("p");i.setAttribute("class","error");var a=function(e,t,o){return Object.prototype.hasOwnProperty.call(r,e)?r[e].replace(/\{[max|min]*\}/g,t).replace("{user_max}",o):""};if(this.errors=[],this.contextForm="object"==typeof e?e:document.querySelector(e),!this.contextForm)throw"context in null";return this.setError=function(e,t){this.errors[e]=t},this.prepare=function(e){var t=Object.keys(e);for(var o in t)this.invoke(t[o],e[t[o]])},this.invoke=function(e,t){t.split("|").map(function(t){if(/\d+/g.test(t)){var r=t.match(/\D+/g)[0].replace(/\:/g,""),i=t.match(/\d+/g)[0],a=o[r];"min"==r?n.min[e]=i:"max"==r&&(n.max[e]=i),"function"==typeof a&&a.call(o,document.querySelector('input[name="'+e+'"]'),i)}else{var a=o[t];"function"==typeof a&&a.call(o,document.querySelector('input[name="'+e+'"]'))}})},this.required=function(e){"object"==typeof e&&this.isSubmit(e)},this.max=function(e,t){e&&e.addEventListener("change",function(r){var s=r.target,l=function(o){o.setError(s.name,!0),i.textContent=a("max",t,s.value.length),e.parentNode.insertBefore(i,e)};for(var u in n.max)s.name==u&&(Object.getOwnPropertyNames(n.min).length>0?s.value.length>t?l(o):s.value.length>=n.min[u]&&o.setError(u,!1):s.value.length>t?l(o):s.value.length<=t&&o.setError(u,!1))})},this.min=function(e,t){e&&e.addEventListener("change",function(r){var s=r.target,l=function(o){o.setError(s.name,!0),i.textContent=a("min",t,s.value.length),e.parentNode.insertBefore(i,e)};for(var u in n.min)s.name==u&&(Object.getOwnPropertyNames(n.max).length>0?s.value.length<t?l(o):s.value.length>=t&&s.value.length<=n.max[u]&&o.setError(u,!1):s.value.length<t?l(o):s.value.length>=t&&o.setError(u,!1))})},this.isSubmit=function(e){return e=e||null,this.contextForm.addEventListener("submit",function(t){null!==e&&""==e.value.length?(o.setError("required_"+e.name,!0),i.textContent=a("required"),e.parentNode.insertBefore(i,e)):null!==e&&""!==e.value.length&&o.setError("required_"+e.name,!1);var r=Object.values(o.errors).filter(function(e){return 1==e});r.length>0&&t.preventDefault()}),this},this.getErrors=function(){return this.errors},this.prepare(t),this});var validator=validation=module["import"]("/lib/validator/validation.js","validation");module(["/lib/winStorage/cookie.js","cookie"],function(e,t,o){return Cookie.key=e,Cookie.value=t,Cookie.options=o,Cookie.injectCookie(),this});var cookie=Cookie=module["import"]("/lib/winStorage/cookie.js","cookie");return cookie.assign=function(e,t,o){Cookie(e,t,o)},cookie.first=function(e){return Cookie.all()[e]||""},cookie.remove=function(e,t){var o=new Date,t=t?"path="+t+";":"";o.setTime(o.getTime()-o.getTime()),document.cookie=e+"=;"+t+"expires="+o.toUTCString()},cookie.all=function(){var e,t=document.cookie,o=[],r=-1!=t.indexOf(";")?t.replace(/\s+/g,"").split(";"):t.split("=");return t&&r.forEach(function(t){e=-1!=t.indexOf("=")?t.split("="):r,o[e[0]]=e[1]}),o},cookie.buildAgeCookie=function(e){var t=e,o=0;return"number"==typeof t?o=e:"oneYear"==t?o=31536e3:"oneHour"==t&&(o=3600),o},cookie.injectCookie=function(){var e=Cookie.key+"="+Cookie.value,t=Cookie.options,o={path:"/",domain:"",age:"",expires:"",secure:!1};for(var r in t)if(Object.prototype.hasOwnProperty.call(o,r))switch(r){case"path":e+=";path="+t[r];break;case"domain":e+=";domain="+t[r];break;case"age":e+=";max-age="+Cookie.buildAgeCookie(t[r]);break;case"expires":e+=";expires="+t[r];break;case"secure":e+=";secure="+t[r]}Cookie.first(Cookie.key)||(document.cookie=e)},localData=function t(e,o,r){o="object"==typeof e?e:function(){var t=[];return t[e]=o,t}(),t.action(o,r||"local","set")},localData.set=function(e,t,o){localData(key,t,o)},localData.get=function(e,t){return localData.action(e,t||"local","get")},localData.remove=function(e,t){localData.action(e,t||"local","remove")},localData.exists=function(e,t){return localData.action(e,t||"local","exists")},localData.action=function(e,t,o){var r,n=function(t){return"string"==typeof e?!!r[t]:null};switch(t){case"local":r=localStorage;break;case"session":r=sessionStorage}if("exists"==o)return n(e);if("get"==o)return"string"==typeof e?r[e]||null:null;if("set"==o){if("object"==typeof e)for(var i in e)n(i)||r[o+"Item"](i,e[i])}else r[o+"Item"](e)},Request.isGet=function(e){return-1!=["GET","OPTIONS"].indexOf(e)},Request.isAllNotGet=function(e){return-1!=["POST","PUT","PATCH","DELETE","OPTIONS"].indexOf(e)},dispatch.matches=function(e){var t=null;if((t=e.exec(infoHTTP().path))&&e.lastIndex==t.index){if(t[0].length==t.input.length)return delete t.index,delete t.input,t;++e.lastIndex}return!1},Router.prototype.setUrl=function(e){this.url=e},Router.prototype.setMethod=function(e){this.method=e},Router.prototype.setFunc=function(e){this.func=e},Router.prototype.matchUrl=function(){return this.setUrl(captureRgx(this.getUrl(),this)),this},Router.prototype.getUrl=function(){return this.url},Router.prototype.getMethod=function(){return this.method},Router.prototype.getFunc=function(){return this.func},Route.prototype.group=function(e,t){this.groupUrl=e,t.call(this,this)},Route.prototype.get=function(e,t){this.controller("GET",e,t)},Route.prototype.post=function(e,t){this.controller("POST",e,t)},Route.prototype.put=function(e,t){this.controller("PUT",e,t)},Route.prototype.patch=function(e,t){this.controller("PATCH",e,t)},Route.prototype["delete"]=function(e,t){this.controller("DELETE",e,t)},Route.prototype.options=function(e,t){this.controller("OPTIONS",e,t)},Route.prototype.controller=function(e,t,o){context.push(new Router(e,this.groupUrl||""+t,o).matchUrl())},remit=function(){this.event={},this.collection={};return module.extend(this,Route),this.run=function(){return dispatch.bind(this)(context)},this.loadFile=function(e,t,o){var r=/(.*?)\.([html|php|json|xml|txt]+)/i;if("function"==typeof t&&(o=t),r.test(e)&&(t=e,e=null),e&&(e="object"==typeof e?e:-1!=e.indexOf("#")||-1!=e.indexOf(".")?document.querySelector(e):null,null==e))throw"element in null";xhr.open("GET",t),xhr.onreadystatechange=function(){return 4==xhr.readyState?void(o&&o.call(xhr,xhr.responseText)||e&&(e.innerHTML=xhr.responseText,e)):void 0},xhr.send()},this},module(["/lib/http/response.js","response"],Response),module(["/lib/http/response.js","response"],Response),module(["/lib/routing/route.js","route"],Route),module(["/lib/routing/router.js","router"],Router),module(["/lib/routing/dispatch.js","dispatch"],dispatch),module(["/lib/winStorage/localData.js","localData"],localData),module(["/lib/remit.js","remit"],remit),remit}("object"==typeof window?window:{});
