/**
 * remit
 * https://github.com/nikeMadrid/remit
 * @author Nike Madrid
 * @version 1.0.0
 * @licence MIT
 */
!function(w,arr){"use strict";function each(e,t){for(var o in e)t(o,e[o])}function preg_quote(e,t){return null!==e.match(/\//g)&&(e=String(e).replace(new RegExp("[.\\\\*$=!<>|\\"+(t||"")+"]","g"),"\\$&")),e}function $_collector$x(p){var group="";routeGroup.length>0&&(group=routeGroup);var quote=preg_quote(group+p,"/");return function(){var m=quote.match(globalRgx);if(null!==m)for(var i in m)quote=sString.test(m[i]&&m[i].match(sString))?quote.replace(m[i],"([a-zA-Z]+)"):sNumber.test(m[i]&&m[i].match(sNumber))?quote.replace(m[i],"([0-9]+)"):sLower.test(m[i]&&m[i].match(sLower))?quote.replace(m[i],"([a-z]+)"):sUpper.test(m[i]&&m[i].match(sUpper))?quote.replace(m[i],"([A-Z]+)"):quote.replace(m[i],"([0-9a-zA-Z_\\+\\-%\\:]+)");return eval("/"+quote+"\\/?/")}}var globalRgx=/{([0-9a-zA-Z_\+\-%\:]+)}/g,sUpper=/{((.*?):upper)}/g,sLower=/{((.*?):lower)}/g,sString=/{((.*?):string)}/g,sNumber=/{((.*?):number)}/g,_SERVER={path:location.pathname||"/",hash:location.hash,protocol:location.protocol,beforeUrl:location.origin||"/",params:location.search||""},xhr=null,isFountUrl=!1,headers={},routeGroup=[],routeActionsMethods={pattern:[],method:[],callback:[]},routeExecuteAction={url:[],method:[],callback:[],context:{}};if(window.XMLHttpRequest)xhr=new XMLHttpRequest;else try{xhr=new ActiveXObject("Microsoft.XMLHTTP")}catch(e){console.info("tu navegador no soporta xml ajax")}return w.session={},w.session.set=function(e,t,o){t="object"==typeof e?e:function(){var o=[];return o[e]=t,o}(),this.action(t,o||"local","set")},w.session.get=function(e,t){return this.action(e,t||"local","get")},w.session.remove=function(e,t){this.action(e,t||"local","remove")},w.session.exists=function(e,t){return this.action(e,t||"local","exists")},w.session.action=function(e,t,o){var r;switch(t){case"local":r=localStorage;break;case"session":r=sessionStorage}var n=function(t){return"string"==typeof e?r[t]?!0:!1:null};if("exists"==o)return n(e);if("get"==o)return"string"==typeof e?r[e]||null:null;if("set"==o){if("object"==typeof e)for(var i in e)n(i)||r[o+"Item"](i,e[i])}else r[o+"Item"](e)},w.cookie=function(e,t,o){var r="",n="",i="",a="",s="",c=function(e,t){return this.date=new Date,this.seconds=60,this.minutes=60,this.hours=24,this.month=12,this.oneYear=1036800,this.cookieHour=3600,"age"==t?"oneYear"==e?this.oneYear:"cookieHour"==e?this.cookieHour:"app"==e?this.date.getMilliseconds():e:"expires"==t?e:void 0};if(o)for(var u in o)switch(u){case"path":r=";path="+o[u];break;case"domain":n=";domain="+o[u];break;case"age":i=";max-age="+c(o[u],"age");break;case"expires":var l=c(o[u],"expires");l&&(a=";expires="+l);break;case"secure":s=";secure="+o[u]}var h=function(){return e+"="+t+i+r+n+a+s};document.cookie=h()},w.cookie.get=function(e){var t,o,r=[];if(!this.exists())return"";if(-1!=document.cookie.indexOf(";"))o=document.cookie.replace(/\s+/g,"").split(";"),o.forEach(function(e,o,n){t=e.split("="),r[t[0]]=t[1]});else{o=document.cookie.split("=");for(var n=0;n<o.length;n++)t=o,r[t[0]]=t[1]}return r[e]||r},w.cookie.exists=function(e){return document.cookie[e]||document.cookie?!0:!1},w.cookie.remove=function(e){var t=new Date;t.setTime(t.getTime()-86400),document.cookie=e+"=; expires="+t.toUTCString()},w.Request=function(){var e,t=[];return this.getParams=function(o){if(this.slice=server.params.slice(server.params.indexOf("?")+1),0!=parseInt(this.slice))for(var r=this.slice.split("&"),n=0;n<r.length;n++)-1!=r[n].indexOf("=")&&(e=r[n].split("="),t[e[0]]=e[1]);return o?t[o]:t},this.infoBrowser=function(){return{appName:navigator.appCodeName,browserName:navigator.appName,browserVersion:navigator.appVersion,activeCookie:navigator.cookieEnabled,lang:navigator.language,online:navigator.onLine,platform:navigator.platform,userAgent:navigator.userAgent,product:navigator.product,position:navigator.geolocation.getCurrentPosition,javaActive:navigator.javaEnabled()}},this},w.Response=function(){return this.execRoute=function(e,t,o){"function"==typeof t?t.apply(this,[this].concat(o)):"object"==typeof t&&-1!=Object.getOwnPropertyNames(t).indexOf("render")&&t.render.apply(this,[this].concat(o))},this},w.Route=function(){return this.group=function(e,t){routeGroup=e;try{t.call(this)}catch(o){alert(o)}},this.url=function(e,t){routeActionsMethods.method.push("GET"),routeActionsMethods.pattern.push($_collector$x(e)),routeActionsMethods.callback.push(t),arr[0].call(this)},this.get=function(e,t){routeActionsMethods.method.push("GET"),routeActionsMethods.pattern.push($_collector$x(e)),routeActionsMethods.callback.push(t),arr[0].call(this)},this},w.dispatch=function(e){each(routeActionsMethods.pattern,function(e,t){var o=t(),r=null;(r=o.exec(decodeURI(_SERVER.path)))&&(o.lastIndex==r.index&&++o.lastIndex,r[0].length===r.input.length&&(delete r.index,delete r.input,isFountUrl=!0,routeExecuteAction.context=routeActionsMethods,routeExecuteAction.method=routeActionsMethods.method[e],routeExecuteAction.url=r.shift(),routeExecuteAction.callback=routeActionsMethods.callback[e],routeExecuteAction.args=r,routeExecuteAction.matchesUrl=o))}),"function"==typeof e&&e.call(this,isFountUrl),dispatch.callback()},w.dispatch.callback=function(){var e=routeExecuteAction.callback;e instanceof Array&&0==e.length||(new Response).execRoute(routeExecuteAction.url,e,routeExecuteAction.args)},w.loadFILE=function(e,t,o){if(t||(t=e,e="body"),!t)throw new Error("especifica el nombre del archivo");xhr.onreadystatechange=function(o){if(4==xhr.readyState||"complete"==xhr.readyState){if(!(xhr.status<202)){var o=new Error("error al encontrar el archivo");throw o.file=t,o.state=xhr.status,o}document.querySelector(e).innerHTML=xhr.responseText}},xhr.open("GET",t),xhr.send()},w||this}(this,[function(){}]);
